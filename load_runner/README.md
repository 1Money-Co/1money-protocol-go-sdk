# 1Money Load Runner

This tool imports accounts from the CSV file generated by the stress_test module and sends transactions from each account to a specified target address.

## Prerequisites

- Go 1.24 or higher
- CSV file with account details (generated by stress_test module)
- Target address to receive transactions

## Usage

### Quick Start

```bash
./run_load_test.sh <target_address>
```

Example:
```bash
./run_load_test.sh 0x742d35Cc6634C0532925a3b844Bc9e7595f87890
```

### Advanced Options

```bash
./run_load_test.sh <target_address> [options]

Options:
  -csv <file>      CSV file path (default: ../stress_test/accounts_detail.csv)
  -amount <value>  Amount to send per transaction (default: 1000000)
  -concurrency <n> Number of concurrent transactions (default: 10)
  -max <n>         Maximum accounts to process (default: all)
  -mainnet         Use mainnet instead of testnet
```

Examples:
```bash
# Send with 20 concurrent transactions, process only first 100 accounts
./run_load_test.sh 0x742d35Cc6634C0532925a3b844Bc9e7595f87890 -concurrency 20 -max 100

# Use custom CSV file and amount
./run_load_test.sh 0x742d35Cc6634C0532925a3b844Bc9e7595f87890 -csv /path/to/accounts.csv -amount 5000000

# Use mainnet
./run_load_test.sh 0x742d35Cc6634C0532925a3b844Bc9e7595f87890 -mainnet
```

### Direct Go Run

```bash
cd load_runner
go run . -to <target_address> [flags]
```

## Output

The tool provides:
- Real-time transaction status for each account
- Summary statistics (success rate, TPS, average transaction time)
- CSV file with detailed results (`load_results_YYYYMMDD_HHMMSS.csv`)

## CSV Input Format

The tool expects a CSV file with the following columns:
- privatekey
- token_address
- decimal
- balance
- wallet_tier
- wallet_index
- source_wallet